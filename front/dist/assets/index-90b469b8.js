import{u as ue,r as B,a as C,j as X,B as fe,M as Oe,t as Re,c as Ie,R as W,f as Z,h as Me,Q as De,d as Ne}from"./index-16c82929.js";import{L as je}from"./LoadingEffect-fc0b9230.js";import{i as Le}from"./axiosAPI-53837c22.js";import{I as Ee}from"./Input-ce4ab0fd.js";import{I as xe}from"./InputGroup-3d84e3d2.js";import{u as Pe}from"./useQuery-34bc223f.js";const Ue=({refetch:r})=>{ue("beginnerProjects");const[e,i]=B.useState("");return C("div",{className:"my-4",children:C("form",{onSubmit:o=>{o.preventDefault(),Le.post("/api/todos/item",{text:e}).then(l=>{i(""),r()})},children:X(xe,{className:"justify-center",children:[C(Ee,{name:"AddTodo",value:e,onChange:o=>{i(o.currentTarget.value)},size:"sm"}),C(fe,{type:"submit",size:"sm",children:C(Oe,{})})]})})})},ze=B.forwardRef(({color:r,size:e,indeterminate:i,className:t,...s},o)=>{const l=Re("checkbox",t,Ie({[`checkbox-${e}`]:e,[`checkbox-${r}`]:r})),d=B.useRef(null);return B.useImperativeHandle(o,()=>d.current),B.useEffect(()=>{d.current&&(i?d.current.indeterminate=!0:d.current.indeterminate=!1)},[i]),C("input",{...s,ref:d,type:"checkbox",className:l})});ze.displayName="Checkbox";function me(r,e,i,t,s,o,l){try{var d=r[o](l),L=d.value}catch(S){i(S);return}d.done?e(L):Promise.resolve(L).then(t,s)}function ne(r){return function(){var e=this,i=arguments;return new Promise(function(t,s){var o=r.apply(e,i);function l(L){me(o,t,s,l,d,"next",L)}function d(L){me(o,t,s,l,d,"throw",L)}l(void 0)})}}function N(){return N=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(r[t]=i[t])}return r},N.apply(this,arguments)}var he={},We={get exports(){return he},set exports(r){he=r}},le={},Be={get exports(){return le},set exports(r){le=r}};(function(r){function e(i){return r.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r.exports.__esModule=!0,r.exports.default=r.exports,e(i)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(Be);(function(r){var e=le.default;function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r.exports=i=function(){return t},r.exports.__esModule=!0,r.exports.default=r.exports;var t={},s=Object.prototype,o=s.hasOwnProperty,l=typeof Symbol=="function"?Symbol:{},d=l.iterator||"@@iterator",L=l.asyncIterator||"@@asyncIterator",S=l.toStringTag||"@@toStringTag";function f(a,n,h){return Object.defineProperty(a,n,{value:h,enumerable:!0,configurable:!0,writable:!0}),a[n]}try{f({},"")}catch{f=function(h,u,y){return h[u]=y}}function x(a,n,h,u){var y=n&&n.prototype instanceof A?n:A,w=Object.create(y.prototype),k=new G(u||[]);return w._invoke=function(D,P,E){var R="suspendedStart";return function(U,ge){if(R==="executing")throw new Error("Generator is already running");if(R==="completed"){if(U==="throw")throw ge;return $()}for(E.method=U,E.arg=ge;;){var ye=E.delegate;if(ye){var se=g(ye,E);if(se){if(se===_)continue;return se}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(R==="suspendedStart")throw R="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);R="executing";var Y=b(D,P,E);if(Y.type==="normal"){if(R=E.done?"completed":"suspendedYield",Y.arg===_)continue;return{value:Y.arg,done:E.done}}Y.type==="throw"&&(R="completed",E.method="throw",E.arg=Y.arg)}}}(a,h,k),w}function b(a,n,h){try{return{type:"normal",arg:a.call(n,h)}}catch(u){return{type:"throw",arg:u}}}t.wrap=x;var _={};function A(){}function z(){}function v(){}var I={};f(I,d,function(){return this});var M=Object.getPrototypeOf,F=M&&M(M(j([])));F&&F!==s&&o.call(F,d)&&(I=F);var c=v.prototype=A.prototype=Object.create(I);function m(a){["next","throw","return"].forEach(function(n){f(a,n,function(h){return this._invoke(n,h)})})}function p(a,n){function h(y,w,k,D){var P=b(a[y],a,w);if(P.type!=="throw"){var E=P.arg,R=E.value;return R&&e(R)=="object"&&o.call(R,"__await")?n.resolve(R.__await).then(function(U){h("next",U,k,D)},function(U){h("throw",U,k,D)}):n.resolve(R).then(function(U){E.value=U,k(E)},function(U){return h("throw",U,k,D)})}D(P.arg)}var u;this._invoke=function(y,w){function k(){return new n(function(D,P){h(y,w,D,P)})}return u=u?u.then(k,k):k()}}function g(a,n){var h=a.iterator[n.method];if(h===void 0){if(n.delegate=null,n.method==="throw"){if(a.iterator.return&&(n.method="return",n.arg=void 0,g(a,n),n.method==="throw"))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var u=b(h,a.iterator,n.arg);if(u.type==="throw")return n.method="throw",n.arg=u.arg,n.delegate=null,_;var y=u.arg;return y?y.done?(n[a.resultName]=y.value,n.next=a.nextLoc,n.method!=="return"&&(n.method="next",n.arg=void 0),n.delegate=null,_):y:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function O(a){var n={tryLoc:a[0]};1 in a&&(n.catchLoc=a[1]),2 in a&&(n.finallyLoc=a[2],n.afterLoc=a[3]),this.tryEntries.push(n)}function T(a){var n=a.completion||{};n.type="normal",delete n.arg,a.completion=n}function G(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(O,this),this.reset(!0)}function j(a){if(a){var n=a[d];if(n)return n.call(a);if(typeof a.next=="function")return a;if(!isNaN(a.length)){var h=-1,u=function y(){for(;++h<a.length;)if(o.call(a,h))return y.value=a[h],y.done=!1,y;return y.value=void 0,y.done=!0,y};return u.next=u}}return{next:$}}function $(){return{value:void 0,done:!0}}return z.prototype=v,f(c,"constructor",v),f(v,"constructor",z),z.displayName=f(v,S,"GeneratorFunction"),t.isGeneratorFunction=function(a){var n=typeof a=="function"&&a.constructor;return!!n&&(n===z||(n.displayName||n.name)==="GeneratorFunction")},t.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,v):(a.__proto__=v,f(a,S,"GeneratorFunction")),a.prototype=Object.create(c),a},t.awrap=function(a){return{__await:a}},m(p.prototype),f(p.prototype,L,function(){return this}),t.AsyncIterator=p,t.async=function(a,n,h,u,y){y===void 0&&(y=Promise);var w=new p(x(a,n,h,u),y);return t.isGeneratorFunction(n)?w:w.next().then(function(k){return k.done?k.value:w.next()})},m(c),f(c,S,"Generator"),f(c,d,function(){return this}),f(c,"toString",function(){return"[object Generator]"}),t.keys=function(a){var n=[];for(var h in a)n.push(h);return n.reverse(),function u(){for(;n.length;){var y=n.pop();if(y in a)return u.value=y,u.done=!1,u}return u.done=!0,u}},t.values=j,G.prototype={constructor:G,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!n)for(var h in this)h.charAt(0)==="t"&&o.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var h=this;function u(E,R){return k.type="throw",k.arg=n,h.next=E,R&&(h.method="next",h.arg=void 0),!!R}for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y],k=w.completion;if(w.tryLoc==="root")return u("end");if(w.tryLoc<=this.prev){var D=o.call(w,"catchLoc"),P=o.call(w,"finallyLoc");if(D&&P){if(this.prev<w.catchLoc)return u(w.catchLoc,!0);if(this.prev<w.finallyLoc)return u(w.finallyLoc)}else if(D){if(this.prev<w.catchLoc)return u(w.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return u(w.finallyLoc)}}}},abrupt:function(n,h){for(var u=this.tryEntries.length-1;u>=0;--u){var y=this.tryEntries[u];if(y.tryLoc<=this.prev&&o.call(y,"finallyLoc")&&this.prev<y.finallyLoc){var w=y;break}}w&&(n==="break"||n==="continue")&&w.tryLoc<=h&&h<=w.finallyLoc&&(w=null);var k=w?w.completion:{};return k.type=n,k.arg=h,w?(this.method="next",this.next=w.finallyLoc,_):this.complete(k)},complete:function(n,h){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&h&&(this.next=h),_},finish:function(n){for(var h=this.tryEntries.length-1;h>=0;--h){var u=this.tryEntries[h];if(u.finallyLoc===n)return this.complete(u.completion,u.afterLoc),T(u),_}},catch:function(n){for(var h=this.tryEntries.length-1;h>=0;--h){var u=this.tryEntries[h];if(u.tryLoc===n){var y=u.completion;if(y.type==="throw"){var w=y.arg;T(u)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(n,h,u){return this.delegate={iterator:j(n),resultName:h,nextLoc:u},this.method==="next"&&(this.arg=void 0),_}},t}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports})(We);var ee=he(),H=ee;try{regeneratorRuntime=ee}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ee:Function("r","regeneratorRuntime = r")(ee)}const J=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ge=typeof AbortController=="function",ie=Ge?AbortController:class{constructor(){this.signal=new Ae}abort(e=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||e,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},$e=typeof AbortSignal=="function",qe=typeof ie.AbortSignal=="function",Ae=$e?AbortSignal:qe?ie.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(e){e.type==="abort"&&(this.aborted=!0,this.onabort(e),this._listeners.forEach(i=>i(e),this))}onabort(){}addEventListener(e,i){e==="abort"&&this._listeners.push(i)}removeEventListener(e,i){e==="abort"&&(this._listeners=this._listeners.filter(t=>t!==i))}},de=new Set,ae=(r,e)=>{const i=`LRU_CACHE_OPTION_${r}`;re(i)&&pe(i,`${r} option`,`options.${e}`,Q)},oe=(r,e)=>{const i=`LRU_CACHE_METHOD_${r}`;if(re(i)){const{prototype:t}=Q,{get:s}=Object.getOwnPropertyDescriptor(t,r);pe(i,`${r} method`,`cache.${e}()`,s)}},Qe=(r,e)=>{const i=`LRU_CACHE_PROPERTY_${r}`;if(re(i)){const{prototype:t}=Q,{get:s}=Object.getOwnPropertyDescriptor(t,r);pe(i,`${r} property`,`cache.${e}`,s)}},ke=(...r)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...r):console.error(...r)},re=r=>!de.has(r),pe=(r,e,i,t)=>{de.add(r);const s=`The ${e} is deprecated. Please use ${i} instead.`;ke(s,"DeprecationWarning",r,t)},q=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),Ce=r=>q(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?te:null:null;class te extends Array{constructor(e){super(e),this.fill(0)}}class He{constructor(e){if(e===0)return[];const i=Ce(e);this.heap=new i(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class Q{constructor(e={}){const{max:i=0,ttl:t,ttlResolution:s=1,ttlAutopurge:o,updateAgeOnGet:l,updateAgeOnHas:d,allowStale:L,dispose:S,disposeAfter:f,noDisposeOnSet:x,noUpdateTTL:b,maxSize:_=0,maxEntrySize:A=0,sizeCalculation:z,fetchMethod:v,fetchContext:I,noDeleteOnFetchRejection:M,noDeleteOnStaleGet:F,allowStaleOnFetchRejection:c,allowStaleOnFetchAbort:m,ignoreFetchAbort:p}=e,{length:g,maxAge:O,stale:T}=e instanceof Q?{}:e;if(i!==0&&!q(i))throw new TypeError("max option must be a nonnegative integer");const G=i?Ce(i):Array;if(!G)throw new Error("invalid max value: "+i);if(this.max=i,this.maxSize=_,this.maxEntrySize=A||this.maxSize,this.sizeCalculation=z||g,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=v||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=I,!this.fetchMethod&&I!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(i).fill(null),this.valList=new Array(i).fill(null),this.next=new G(i),this.prev=new G(i),this.head=0,this.tail=0,this.free=new He(i),this.initialFill=1,this.size=0,typeof S=="function"&&(this.dispose=S),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!x,this.noUpdateTTL=!!b,this.noDeleteOnFetchRejection=!!M,this.allowStaleOnFetchRejection=!!c,this.allowStaleOnFetchAbort=!!m,this.ignoreFetchAbort=!!p,this.maxEntrySize!==0){if(this.maxSize!==0&&!q(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!q(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!L||!!T,this.noDeleteOnStaleGet=!!F,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!d,this.ttlResolution=q(s)||s===0?s:1,this.ttlAutopurge=!!o,this.ttl=t||O||0,this.ttl){if(!q(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const j="LRU_CACHE_UNBOUNDED";re(j)&&(de.add(j),ke("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,Q))}T&&ae("stale","allowStale"),O&&ae("maxAge","ttl"),g&&ae("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new te(this.max),this.starts=new te(this.max),this.setItemTTL=(t,s,o=J.now())=>{if(this.starts[t]=s!==0?o:0,this.ttls[t]=s,s!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.isStale(t)&&this.delete(this.keyList[t])},s+1);l.unref&&l.unref()}},this.updateItemAge=t=>{this.starts[t]=this.ttls[t]!==0?J.now():0},this.statusTTL=(t,s)=>{t&&(t.ttl=this.ttls[s],t.start=this.starts[s],t.now=e||i(),t.remainingTTL=t.now+t.ttl-t.start)};let e=0;const i=()=>{const t=J.now();if(this.ttlResolution>0){e=t;const s=setTimeout(()=>e=0,this.ttlResolution);s.unref&&s.unref()}return t};this.getRemainingTTL=t=>{const s=this.keyMap.get(t);return s===void 0?0:this.ttls[s]===0||this.starts[s]===0?1/0:this.starts[s]+this.ttls[s]-(e||i())},this.isStale=t=>this.ttls[t]!==0&&this.starts[t]!==0&&(e||i())-this.starts[t]>this.ttls[t]}updateItemAge(e){}statusTTL(e,i){}setItemTTL(e,i,t){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new te(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,i,t,s)=>{if(this.isBackgroundFetch(i))return 0;if(!q(t))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(t=s(i,e),!q(t))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return t},this.addItemSize=(e,i,t)=>{if(this.sizes[e]=i,this.maxSize){const s=this.maxSize-this.sizes[e];for(;this.calculatedSize>s;)this.evict(!0)}this.calculatedSize+=this.sizes[e],t&&(t.entrySize=i,t.totalCalculatedSize=this.calculatedSize)}}removeItemSize(e){}addItemSize(e,i){}requireSize(e,i,t,s){if(t||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let i=this.tail;!(!this.isValidIndex(i)||((e||!this.isStale(i))&&(yield i),i===this.head));)i=this.prev[i]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let i=this.head;!(!this.isValidIndex(i)||((e||!this.isStale(i))&&(yield i),i===this.tail));)i=this.next[i]}isValidIndex(e){return e!==void 0&&this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*rentries(){for(const e of this.rindexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*keys(){for(const e of this.indexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*rkeys(){for(const e of this.rindexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*values(){for(const e of this.indexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}*rvalues(){for(const e of this.rindexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}[Symbol.iterator](){return this.entries()}find(e,i){for(const t of this.indexes()){const s=this.valList[t],o=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;if(o!==void 0&&e(o,this.keyList[t],this))return this.get(this.keyList[t],i)}}forEach(e,i=this){for(const t of this.indexes()){const s=this.valList[t],o=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(i,o,this.keyList[t],this)}}rforEach(e,i=this){for(const t of this.rindexes()){const s=this.valList[t],o=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(i,o,this.keyList[t],this)}}get prune(){return oe("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(const i of this.rindexes({allowStale:!0}))this.isStale(i)&&(this.delete(this.keyList[i]),e=!0);return e}dump(){const e=[];for(const i of this.indexes({allowStale:!0})){const t=this.keyList[i],s=this.valList[i],o=this.isBackgroundFetch(s)?s.__staleWhileFetching:s;if(o===void 0)continue;const l={value:o};if(this.ttls){l.ttl=this.ttls[i];const d=J.now()-this.starts[i];l.start=Math.floor(Date.now()-d)}this.sizes&&(l.size=this.sizes[i]),e.unshift([t,l])}return e}load(e){this.clear();for(const[i,t]of e){if(t.start){const s=Date.now()-t.start;t.start=J.now()-s}this.set(i,t.value,t)}}dispose(e,i,t){}set(e,i,{ttl:t=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,size:l=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:L=this.noUpdateTTL,status:S}={}){if(l=this.requireSize(e,i,l,d),this.maxEntrySize&&l>this.maxEntrySize)return S&&(S.set="miss",S.maxEntrySizeExceeded=!0),this.delete(e),this;let f=this.size===0?void 0:this.keyMap.get(e);if(f===void 0)f=this.newIndex(),this.keyList[f]=e,this.valList[f]=i,this.keyMap.set(e,f),this.next[this.tail]=f,this.prev[f]=this.tail,this.tail=f,this.size++,this.addItemSize(f,l,S),S&&(S.set="add"),L=!1;else{this.moveToTail(f);const x=this.valList[f];if(i!==x){if(this.isBackgroundFetch(x)?x.__abortController.abort(new Error("replaced")):o||(this.dispose(x,e,"set"),this.disposeAfter&&this.disposed.push([x,e,"set"])),this.removeItemSize(f),this.valList[f]=i,this.addItemSize(f,l,S),S){S.set="replace";const b=x&&this.isBackgroundFetch(x)?x.__staleWhileFetching:x;b!==void 0&&(S.oldValue=b)}}else S&&(S.set="update")}if(t!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),L||this.setItemTTL(f,t,s),this.statusTTL(S,f),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const i=this.head,t=this.keyList[i],s=this.valList[i];return this.isBackgroundFetch(s)?s.__abortController.abort(new Error("evicted")):(this.dispose(s,t,"evict"),this.disposeAfter&&this.disposed.push([s,t,"evict"])),this.removeItemSize(i),e&&(this.keyList[i]=null,this.valList[i]=null,this.free.push(i)),this.head=this.next[i],this.keyMap.delete(t),this.size--,i}has(e,{updateAgeOnHas:i=this.updateAgeOnHas,status:t}={}){const s=this.keyMap.get(e);if(s!==void 0)if(this.isStale(s))t&&(t.has="stale",this.statusTTL(t,s));else return i&&this.updateItemAge(s),t&&(t.has="hit"),this.statusTTL(t,s),!0;else t&&(t.has="miss");return!1}peek(e,{allowStale:i=this.allowStale}={}){const t=this.keyMap.get(e);if(t!==void 0&&(i||!this.isStale(t))){const s=this.valList[t];return this.isBackgroundFetch(s)?s.__staleWhileFetching:s}}backgroundFetch(e,i,t,s){const o=i===void 0?void 0:this.valList[i];if(this.isBackgroundFetch(o))return o;const l=new ie;t.signal&&t.signal.addEventListener("abort",()=>l.abort(t.signal.reason));const d={signal:l.signal,options:t,context:s},L=(_,A=!1)=>{const{aborted:z}=l.signal,v=t.ignoreFetchAbort&&_!==void 0;return t.status&&(z&&!A?(t.status.fetchAborted=!0,t.status.fetchError=l.signal.reason,v&&(t.status.fetchAbortIgnored=!0)):t.status.fetchResolved=!0),z&&!v&&!A?f(l.signal.reason):(this.valList[i]===b&&(_===void 0?b.__staleWhileFetching?this.valList[i]=b.__staleWhileFetching:this.delete(e):(t.status&&(t.status.fetchUpdated=!0),this.set(e,_,d.options))),_)},S=_=>(t.status&&(t.status.fetchRejected=!0,t.status.fetchError=_),f(_)),f=_=>{const{aborted:A}=l.signal,z=A&&t.allowStaleOnFetchAbort,v=z||t.allowStaleOnFetchRejection,I=v||t.noDeleteOnFetchRejection;if(this.valList[i]===b&&(!I||b.__staleWhileFetching===void 0?this.delete(e):z||(this.valList[i]=b.__staleWhileFetching)),v)return t.status&&b.__staleWhileFetching!==void 0&&(t.status.returnedStale=!0),b.__staleWhileFetching;if(b.__returned===b)throw _},x=(_,A)=>{this.fetchMethod(e,o,d).then(z=>_(z),A),l.signal.addEventListener("abort",()=>{(!t.ignoreFetchAbort||t.allowStaleOnFetchAbort)&&(_(),t.allowStaleOnFetchAbort&&(_=z=>L(z,!0)))})};t.status&&(t.status.fetchDispatched=!0);const b=new Promise(x).then(L,S);return b.__abortController=l,b.__staleWhileFetching=o,b.__returned=null,i===void 0?(this.set(e,b,{...d.options,status:void 0}),i=this.keyMap.get(e)):this.valList[i]=b,b}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:i=this.allowStale,updateAgeOnGet:t=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:d=0,sizeCalculation:L=this.sizeCalculation,noUpdateTTL:S=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:x=this.allowStaleOnFetchRejection,ignoreFetchAbort:b=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,fetchContext:A=this.fetchContext,forceRefresh:z=!1,status:v,signal:I}={}){if(!this.fetchMethod)return v&&(v.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:t,noDeleteOnStaleGet:s,status:v});const M={allowStale:i,updateAgeOnGet:t,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:l,size:d,sizeCalculation:L,noUpdateTTL:S,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:x,allowStaleOnFetchAbort:_,ignoreFetchAbort:b,status:v,signal:I};let F=this.keyMap.get(e);if(F===void 0){v&&(v.fetch="miss");const c=this.backgroundFetch(e,F,M,A);return c.__returned=c}else{const c=this.valList[F];if(this.isBackgroundFetch(c)){const T=i&&c.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",T&&(v.returnedStale=!0)),T?c.__staleWhileFetching:c.__returned=c}const m=this.isStale(F);if(!z&&!m)return v&&(v.fetch="hit"),this.moveToTail(F),t&&this.updateItemAge(F),this.statusTTL(v,F),c;const p=this.backgroundFetch(e,F,M,A),g=p.__staleWhileFetching!==void 0,O=g&&i;return v&&(v.fetch=g&&m?"stale":"refresh",O&&m&&(v.returnedStale=!0)),O?p.__staleWhileFetching:p.__returned=p}}get(e,{allowStale:i=this.allowStale,updateAgeOnGet:t=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}={}){const l=this.keyMap.get(e);if(l!==void 0){const d=this.valList[l],L=this.isBackgroundFetch(d);return this.statusTTL(o,l),this.isStale(l)?(o&&(o.get="stale"),L?(o&&(o.returnedStale=i&&d.__staleWhileFetching!==void 0),i?d.__staleWhileFetching:void 0):(s||this.delete(e),o&&(o.returnedStale=i),i?d:void 0)):(o&&(o.get="hit"),L?d.__staleWhileFetching:(this.moveToTail(l),t&&this.updateItemAge(l),d))}else o&&(o.get="miss")}connect(e,i){this.prev[i]=e,this.next[e]=i}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return oe("del","delete"),this.delete}delete(e){let i=!1;if(this.size!==0){const t=this.keyMap.get(e);if(t!==void 0)if(i=!0,this.size===1)this.clear();else{this.removeItemSize(t);const s=this.valList[t];this.isBackgroundFetch(s)?s.__abortController.abort(new Error("deleted")):(this.dispose(s,e,"delete"),this.disposeAfter&&this.disposed.push([s,e,"delete"])),this.keyMap.delete(e),this.keyList[t]=null,this.valList[t]=null,t===this.tail?this.tail=this.prev[t]:t===this.head?this.head=this.next[t]:(this.next[this.prev[t]]=this.next[t],this.prev[this.next[t]]=this.prev[t]),this.size--,this.free.push(t)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return i}clear(){for(const e of this.rindexes({allowStale:!0})){const i=this.valList[e];if(this.isBackgroundFetch(i))i.__abortController.abort(new Error("deleted"));else{const t=this.keyList[e];this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return oe("reset","clear"),this.clear}get length(){return Qe("length","size"),this.size}static get AbortController(){return ie}static get AbortSignal(){return Ae}}const Ve=Q;var ve=Object.prototype.hasOwnProperty;function ce(r,e){var i,t;if(r===e)return!0;if(r&&e&&(i=r.constructor)===e.constructor){if(i===Date)return r.getTime()===e.getTime();if(i===RegExp)return r.toString()===e.toString();if(i===Array){if((t=r.length)===e.length)for(;t--&&ce(r[t],e[t]););return t===-1}if(!i||typeof r=="object"){t=0;for(i in r)if(ve.call(r,i)&&++t&&!ve.call(e,i)||!(i in e)||!ce(r[i],e[i]))return!1;return Object.keys(e).length===t}}return r!==r&&e!==e}var V={REQUEST_START:"REQUEST_START",REQUEST_END:"REQUEST_END"},we={manual:!1,useCache:!0,ssr:!0,autoCancel:!0},K=Fe();K.__ssrPromises;K.resetConfigure;K.configure;K.loadCache;K.serializeCache;K.clearCache;function Ke(r){return r&&r.nativeEvent&&r.nativeEvent instanceof Event}function Se(r){var e=N({},r);return delete e.cancelToken,JSON.stringify(e)}function _e(r){return typeof r=="string"?{url:r}:Object.assign({},r)}function Fe(r){var e,i,t,s=[];function o(){e=new Ve({max:500}),i=Z,t=we}function l(c){c===void 0&&(c={}),c.axios!==void 0&&(i=c.axios),c.cache!==void 0&&(e=c.cache),c.defaultOptions!==void 0&&(t=N({},we,c.defaultOptions))}o(),l(r);function d(c){e.load(c)}function L(){return S.apply(this,arguments)}function S(){return S=ne(H.mark(function c(){var m;return H.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return m=[].concat(s),s.length=0,g.next=4,Promise.all(m);case 4:return g.abrupt("return",e.dump());case 5:case"end":return g.stop()}},c)})),S.apply(this,arguments)}function f(){e.clear()}return Object.assign(F,{__ssrPromises:s,resetConfigure:o,configure:l,loadCache:d,serializeCache:L,clearCache:f});function x(c,m){if(e){var p=Se(c),g=N({},m);delete g.config,delete g.request,e.set(p,g)}}function b(c,m){var p=!m.manual&&A(c,m);return N({loading:!m.manual&&!p,error:null},p?{data:p.data,response:p}:null)}function _(c,m){var p;switch(m.type){case V.REQUEST_START:return N({},c,{loading:!0,error:null});case V.REQUEST_END:return N({},c,{loading:!1},m.error?{}:{data:m.payload.data,error:null},(p={},p[m.error?"error":"response"]=m.payload,p))}}function A(c,m,p){if(!(!e||!m.useCache)){var g=Se(c),O=e.get(g);return O&&p&&p({type:V.REQUEST_END,payload:O}),O}}function z(c,m){return v.apply(this,arguments)}function v(){return v=ne(H.mark(function c(m,p){var g;return H.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.prev=0,p({type:V.REQUEST_START}),T.next=4,i(m);case 4:return g=T.sent,x(m,g),p({type:V.REQUEST_END,payload:g}),T.abrupt("return",g);case 10:throw T.prev=10,T.t0=T.catch(0),Z.isCancel(T.t0)||p({type:V.REQUEST_END,payload:T.t0,error:!0}),T.t0;case 14:case"end":return T.stop()}},c,null,[[0,10]])})),v.apply(this,arguments)}function I(c,m,p){return M.apply(this,arguments)}function M(){return M=ne(H.mark(function c(m,p,g){return H.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",A(m,p,g)||z(m,g));case 1:case"end":return T.stop()}},c)})),M.apply(this,arguments)}function F(c,m){var p=W.useMemo(function(){return _e(c)},be(c)),g=W.useMemo(function(){return N({},t,m)},be(m)),O=W.useRef(),T=W.useReducer(_,b(p,g)),G=T[0],j=T[1];typeof window>"u"&&g.ssr&&!g.manual&&F.__ssrPromises.push(i(p));var $=W.useCallback(function(){O.current&&O.current.cancel()},[]),a=W.useCallback(function(h){return g.autoCancel&&$(),O.current=Z.CancelToken.source(),h.cancelToken=O.current.token,h},[$,g.autoCancel]);W.useEffect(function(){return g.manual||I(a(p),g,j).catch(function(){}),function(){g.autoCancel&&$()}},[p,g,a,$]);var n=W.useCallback(function(h,u){return h=_e(h),I(a(N({},p,Ke(h)?null:h)),N({useCache:!1},u),j)},[p,a]);return[G,n,$]}}function be(r){var e=W.useRef(),i=W.useRef(0);return ce(r,e.current)||(e.current=r,i.current+=1),[i.current]}const Ye={baseURL:"/",headers:{Authorization:`Bearer ${sessionStorage.getItem("Authorization")}`}},Te=Fe({axios:Z.create(Ye)}),Je=({id:r,value:e,setIsEditing:i,setItemText:t,updateChecked:s})=>{const[o]=B.useState(e),[l,d]=B.useState(e);return X(xe,{children:[C(Ee,{name:"EditItem",size:"xs",value:l,onChange:f=>d(f.currentTarget.value)}),C(fe,{size:"xs",onClick:()=>{i(!1),o!==l&&s({params:{_id:r,text:l}}).then(()=>{t(l)})},children:"✓"})]})},Xe=({item:r,refetch:e})=>{const{t:i}=ue("beginnerProjects"),[t,s]=B.useState(r.completed),[o,l]=B.useState(!1),[d,L]=B.useState(r.text),[{loading:S},f]=Te({url:"/api/todos/item",method:"put"},{manual:!0}),[{loading:x},b]=Te({url:"/api/todos/item",method:"delete"},{manual:!0}),_=()=>{f({params:{_id:r._id,completed:!t}}).then(()=>s(!t))},A=()=>{l(!0)},z=()=>{b({params:{_id:r._id}}).then(()=>{De.info(i("Todos.ItemDeleted")),e()})};return X("li",{className:"mb-2 flex items-center",children:[X("div",{className:"flex w-10/12 basis-11/12 gap-2",children:[C(ze,{checked:t,onChange:_,disabled:S}),o?C(Je,{id:r._id,value:d,setIsEditing:l,setItemText:L,updateChecked:f}):C("p",{className:"text-ellipsis overflow-hidden",onDoubleClick:A,children:d})]}),C("div",{className:"flex basis-1/12 justify-end",children:C(fe,{shape:"square",size:"sm",color:"ghost",disabled:x,onClick:z,children:C(Me,{color:"red",size:20})})})]})},ot=()=>{const{t:r}=ue("beginnerProjects"),{isLoading:e,isError:i,data:t,refetch:s}=Pe({queryKey:["todos"],queryFn:async()=>{const{data:o}=await Le.get("/api/todos/item");return o}});return e||!t?C(je,{}):X(Ne,{className:"w-11/12 p-4 lg:w-6/12",children:[C("h5",{className:"text-center",children:r("Todos.title")}),C("p",{className:"text-center",children:r("Todos.EditTextInfo")}),C(Ue,{refetch:s}),C("ol",{start:1,children:t.map(o=>C(Xe,{item:o,refetch:s},o._id))})]})};export{ot as default};
