import{r as n,t as m,c as p,a as s,u as f,j as d,B as b,d as g}from"./index-c6a32647.js";import{L as y}from"./LoadingEffect-a45f08db.js";import{i as l}from"./axiosAPI-4ce88f6f.js";import{I as k}from"./Input-b6a325c0.js";import{u as I}from"./useQuery-90e97a75.js";const h=n.forwardRef(({children:t,size:e,vertical:a,className:r,...c},o)=>{const u=m("input-group",r,p({[`input-group-${e}`]:e,"input-group-vertical":a}));return s("label",{...c,className:u,ref:o,children:t})});h.displayName="InputGroup";const N=({refetch:t})=>{const{t:e}=f("beginnerProjects"),[a,r]=n.useState("");return s("div",{className:"my-4",children:s("form",{onSubmit:u=>{u.preventDefault(),l.post("/api/todos/item",{text:a}).then(i=>{r(""),t()})},children:d(h,{className:"justify-center",children:[s(k,{name:"AddTodo",value:a,onChange:u=>{r(u.currentTarget.value)}}),s(b,{type:"submit",children:e("Todos.AddItem")})]})})})},x=n.forwardRef(({color:t,size:e,indeterminate:a,className:r,...c},o)=>{const u=m("checkbox",r,p({[`checkbox-${e}`]:e,[`checkbox-${t}`]:t})),i=n.useRef(null);return n.useImperativeHandle(o,()=>i.current),n.useEffect(()=>{i.current&&(a?i.current.indeterminate=!0:i.current.indeterminate=!1)},[a]),s("input",{...c,ref:i,type:"checkbox",className:u})});x.displayName="Checkbox";const T=({item:t})=>{const[e,a]=n.useState(t.completed),r=c=>{a(!e)};return n.useEffect(()=>{t.completed!==e&&l.put("/api/todos/item",null,{params:{_id:t._id,completed:e}})},[e]),d("li",{className:"mb-2 flex gap-2",children:[s(x,{checked:e,onChange:r}),t.text]})},S=()=>{const{t}=f("beginnerProjects"),{isLoading:e,isError:a,data:r,refetch:c}=I({queryKey:["todos"],queryFn:async()=>{const{data:o}=await l.get("/api/todos/item");return o}});return e||!r?s(y,{}):d(g,{className:"w-5/6 p-4",children:[s("h5",{className:"text-center",children:t("Todos.title")}),s(N,{refetch:c}),s("ol",{start:1,children:r.map(o=>s(T,{item:o},o._id))})]})};export{S as default};
